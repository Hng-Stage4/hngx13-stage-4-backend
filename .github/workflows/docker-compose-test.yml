# # ============================================
# # .github/workflows/docker-compose-test.yml
# # ============================================
# name: Docker Compose Test

# on:
#   push:
#     branches: [main, develop]
#   pull_request:
#     branches: [main]

# jobs:
#   test-compose:
#     name: Test Docker Compose Setup
#     runs-on: ubuntu-latest
    
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4
      
#       - name: Set up Docker Buildx
#         uses: docker/setup-buildx-action@v3
      
#       - name: Start services
#         run: |
#           docker-compose up -d
#           sleep 30
      
#       - name: Check service health
#         run: |
#           docker-compose ps
          
#           # Check API Gateway
#           curl -f http://localhost:3000/api/v1/health || exit 1
          
#           # Check RabbitMQ
#           curl -f http://localhost:15672 || exit 1
          
#           # Check Redis
#           docker-compose exec -T redis redis-cli ping || exit 1
      
#       - name: View logs on failure
#         if: failure()
#         run: |
#           docker-compose logs
      
#       - name: Cleanup
#         if: always()
#         run: |
#           docker-compose down -v
